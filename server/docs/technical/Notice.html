<!--
	Copyright (C) 2019-2022 Jan Frode Jæger <jan.frode.jaeger@ntnu.no>, NTNU, Trondheim, Norway
	Copyright (C) 2019-2022 Bård Tesaker <bard.tesaker@ntnu.no>, NTNU, Trondheim, Norway

       This file is part of AURORA, a system to store and manage science data.

       AURORA is free software: you can redistribute it and/or modify it under
       the terms of the GNU General Public License as published by the Free
       Software Foundation, either version 3 of the License, or (at your option)
       any later version.

       AURORA is distributed in the hope that it will be useful, but WITHOUT ANY
       WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
       FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.

       You should have received a copy of the GNU General Public License along with
       AURORA. If not, see <https://www.gnu.org/licenses/>.

-->
<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title></title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#CONSTRUCTOR">CONSTRUCTOR</a>
    <ul>
      <li><a href="#new">new()</a></li>
    </ul>
  </li>
  <li><a href="#METHODS">METHODS</a>
    <ul>
      <li><a href="#send">send()</a></li>
      <li><a href="#result">result()</a></li>
      <li><a href="#error">error()</a></li>
    </ul>
  </li>
</ul>

<h1 id="NAME">NAME</h1>

<p><code>Notice</code> - A placeholder class for notice-methods in the AURORA notification-service</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code>use Notice;

# create instance
my $n=Notice-&gt;new(host=&gt;&quot;oompaloompa&quot;);

# send a notice
$n-&gt;send(&quot;charliebucket193@yahoo.com&quot;,&quot;willy.wonka@wonka.chocolate&quot;,&quot;I Won!!&quot;,&quot;Hi\nPlease know that I have found one of the golden tickets.&quot;);

# get last error
print $n-&gt;error();

# get last result of send()-method
print $n-&gt;result();</code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>A placeholder class for notice-methods in the AURORA notification-service.</p>

<p>The class implements mainly the method send, which is to be overridden.</p>

<h1 id="CONSTRUCTOR">CONSTRUCTOR</h1>

<h2 id="new">new()</h2>

<p>Instantiate class.</p>

<p>The method takes one input: server. This is just an example in the placeholder. This method is to be overridden by the inheriting class in order to define the necessary parameters to setup the Notice sending method properly.</p>

<p>Returns a class instance.</p>

<h1 id="METHODS">METHODS</h1>

<h2 id="send">send()</h2>

<p>Attempts to send a notice through a service of some kind.</p>

<p>It accepts these input parameters in the following order:</p>

<ul>

<li><p><b>from</b> Denotes who the notice is from. This is to be in the format of the Notice-class that implements this method. It can also be ignored if that is relevant to the inheriting class.</p>

</li>
<li><p><b>to</b> Denotes who the notice is to be sent to. The receivers address in a format relevant to the Notice-class in question.</p>

</li>
<li><p><b>subject</b> This is the subject of the notice being sent. This field can be ignored if that is relevant to the inheriting class (eg. SMS).</p>

</li>
<li><p><b>notice</b> This is the notice to send to the receiver.</p>

</li>
<li><p><b>threadid</b> The thread id to use for the notice being sent, if possible (not all message transports support this). SCALAR. Optional.</p>

</li>
<li><p><b>threadids</b> Previous thread ids used for reference if usable. LIST-reference. Optional. Empty will be created by default.</p>

</li>
</ul>

<p>Returns 1 upon success, 0 upon failure. Please check the error()-method for more information upon failure.</p>

<p>This method is to be overridden by the inheriting class. The format and use of the parameters from, to and subject is up to that class. The only requirement is that they are to be SCALAR.</p>

<h2 id="result">result()</h2>

<p>Returns the last result of the send command or a blank string.</p>

<p>This method will return a message both if the last send()-method invocation was successful or not. The result message can be blank if the inheriting class do not have any message to return.</p>

<p>It is the task of the inheriting class to set $self-&gt;{result} to the relevant message.</p>

<h2 id="error">error()</h2>

<p>Returns the last error that has happened (if any).</p>

<p>No input is accepted.</p>


</body>

</html>


